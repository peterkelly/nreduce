letrec
  map = (!f.!lst.if (null lst) then nil else (cons (f (hd lst)) (map f (tl lst))))
in
  map
